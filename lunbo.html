<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    .window {
      /* border: 1px solid blue; */
      width: 500px;
      overflow: hidden;
    }

    .images {
      display: flex;
      /* flex是尽量让所有东西放在一行里 */
      align-items: flex-start;
      /* 不要伸缩 */
      /* border: 1px solid red; */
      transition: transform .5s;
    }

    .red {
      color: red;
    }
  </style>
</head>

<body>
  <div class="window">
    <div class="images" style="transform: translateX(-500px)">
      <img src="./images/nike.jpg" width="500" alt="">
      <img src="./images/nikeluobin.jpg" width="500" alt="">
      <img src="./images/nike2.jpg" width="500" alt="">
    </div>
    <!--  图片已知尺寸 写上 -->
  </div>
  <!-- button{第$张}#p$*3 -->
  <div id="btns">
    <button>第1张</button>
    <button>第2张</button>
    <button>第3张</button>
  </div>
  <!-- <script src="https://code.jquery.com/jquery-2.1.1.js"></script> -->
  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script>
    // var allBtns = $('#btns > button');
    // for (let i = 0; i < allBtns.length; i++) {
    //   $(allBtns[i]).on('click', function (x) {
    //     var index = $(x.currentTarget).index();
    //     console.log(x.currentTarget);
    //     var p = index * -500;
    //     $('.images').css({
    //       transform: 'translate(' + p + 'px)'
    //     });
    //     n = index;
    //     allBtns.eq(n)
    //       .addClass('red')
    //       .siblings('.red').removeClass('red')
    //   })
    // }
    // var n = 0;
    // var size = allBtns.length;
    // allBtns.eq(n % size).trigger('click')
    //   .addClass('red')
    //   .siblings('.red').removeClass('red')
    // var timeId = setInterval(() => {
    //   n += 1;
    //   allBtns.eq(n % size).trigger('click')
    //     .addClass('red')
    //     .siblings('.red').removeClass('red')
    // }, 3000)

    // $('.window').on('mouseenter', function () {
    //   window.clearInterval(timeId)
    // })
    // $('.window').on('mouseleave', function () {
    //   timeId = setInterval(() => {
    //     n += 1;
    //     allBtns.eq(n % size).trigger('click')
    //       .addClass('red')
    //       .siblings('.red').removeClass('red')
    //   }, 3000)
    // })




    var allBtns = $('#btns > button');
    for (let i = 0; i < allBtns.length; i++) {
      $(allBtns[i]).on('click', function (x) {
        var index = $(x.currentTarget).index();
        console.log(x.currentTarget);
        var p = index * -500;
        $('.images').css({
          transform: 'translate(' + p + 'px)'
        });
        n = index;
        allBtns.eq(n)
          .addClass('red')
          .siblings('.red').removeClass('red')
      })
    }
    var n = 0;
    var size = allBtns.length;
    allBtns.eq(n % size).trigger('click')
      .addClass('red')
      .siblings('.red').removeClass('red')
    var timeId = setInterval(() => {
      n += 1;
      allBtns.eq(n % size).trigger('click')
        .addClass('red')
        .siblings('.red').removeClass('red')
    }, 3000)

    $('.window').on('mouseenter', function () {
      window.clearInterval(timeId)
    })
    $('.window').on('mouseleave', function () {
      timeId = setInterval(() => {
        n += 1;
        allBtns.eq(n % size).trigger('click')
          .addClass('red')
          .siblings('.red').removeClass('red')
      }, 3000)
    })

















    // var allBtns = $('#btns > button')
    // for (let i = 0; i < allBtns.length; i++) {
    //   $(allBtns[i]).on('click', function (x) {
    //     // console.log(x.target);  
    //     console.log(x.currentTarget); //推荐使用
    //     var index = $(x.currentTarget).index();
    //     var p = index * -500
    //     $('.images').css({
    //       transform: 'translate(' + p + 'px)'
    //     });
    //     n = index
    //     allBtns.eq(n)
    //       .addClass('red')
    //       .siblings('.red').removeClass('red')
    //   })
    // }

    // var n = 0;
    // var size = allBtns.length;

    // allBtns.eq(n % size).trigger('click')
    //   .addClass('red')
    //   .siblings('.red').removeClass('red')
    // var timeId = setInterval(() => {
    //   n += 1;
    //   allBtns.eq(n % size).trigger('click')
    //     .addClass('red')
    //     .siblings('.red').removeClass('red')
    // }, 3000)

    // $('.window').on('mouseenter', function () {
    //   window.clearInterval(timeId)
    // })
    // $('.window').on('mouseleave', function () {
    //   timeId = setInterval(() => {
    //     n += 1
    //     allBtns.eq(n % size).trigger('click')
    //       .addClass('red')
    //       .siblings('.red').removeClass('red')
    //   }, 3000)
    // })


















    // $('#p1').on('click',function(){
    //   $('.images').css({
    //     transform:'translateX(0)'
    //   })
    // })

    //  $('#p2').on('click',function(){
    //   $('.images').css({
    //     transform:'translateX(-500px)'
    //   })
    // })
    // $('#p3').on('click',function(){
    //   $('.images').css({
    //     transform:'translateX(-1000px)'
    //   })
    // })


  </script>
</body>

</html>
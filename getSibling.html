<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <ul>
    <li id="item1">1</li>
    <li id="item2">2</li>
    <li id="item3">3</li>
    <li id="item4">4</li>
    <li id="item5">5</li>
  </ul>
  <script>
    // 封装一个得到某个节点的兄弟姐妹的API
    function getSiblings(node) {
      // 得到item3的父节点的子节点们 伪数组
      var allChildren = node.parentNode.children;
      // 定义一个空的哈希 weishuzu 来存这些子节点
      var array = { length: 0 }
      //遍历得到的那个伪数组 
      for (let i = 0; i < allChildren.length; i++) {
        // 如果伪数组中的第i个元素不等于item3 array[第0个] = 伪数组中的i
        if (allChildren[i] !== node) {
          array[array.length] = allChildren[i];
          // 每当放进去一个元素 length就加1
          array.length += 1;
        }
      }
      return array;
    }
    // getSiblings(item3);
    // console.log(getSiblings(item3));

    // item3.classList.add('a');
    // item3.classList.add('b');
    // item3.classList.add('c');

    // var classes = ['a','b','c'];
    // classes.forEach((value) => item3.classList.add(value)

    // var classes = {'a':true,'b':true,'c':true}
    // for(let key in classes){
    //   var value = classes[key];
    //   if(value){
    //     item3.classList.add(key); 
    //   }else{
    //     item3.classList.remove(key);
    //   }
    // }

    function addClass(node, classes) {
      for (let key in classes) {
        var value = classes[key];
        // if (value) {
        //   node.classList.add(key);
        // } else {
        //   node.classList.remove(key);
        // }
        //代码优化一：有类似的代码 就有优化的可能
        var methodName = value ? 'add' : 'remove';
        node.classList[methodName](key);
        // classList.methodName === classList['methodName']
        // obj.x === obj['x']
      }
    }
    // addClass(item3,{a:true,b:false,c:true});
    // 命名空间 也叫设计模式
    window.miyadom = {}
    miyadom.getSiblings = getSiblings;
    miyadom.addClass = addClass;
    miyadom.getSiblings(item3);
    miyadom.addClass(item3,{a:true,b:false,c:true})   
   

  </script>
</body>

</html>